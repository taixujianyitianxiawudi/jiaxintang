(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{105:function(e,t,n){"use strict";n.r(t);var a,r,c,s,i,o,d,l,m,j,u,b,x,h,O,p,g=n(64),v=n.n(g),f=(n(83),n(118)),y=n(16),I=n(48),w=n(104),N=n(106),R=n(27),k=new N.a({typePolicies:{Query:{fields:{isLoggedIn:{read:function(){return C()}},UserOrRoom:{read:function(){return S()}}}}}}),C=Object(R.c)(!!localStorage.getItem("token")),S=Object(R.c)("true"===localStorage.getItem("place")),P=n(6),$=n(29),U=n(119),q=n(13),D=n(121),_=n(2),E=n(14),A=n(11),L=n(0),B=function(){return Object(L.jsx)("div",{children:"Loading, please wait"})},F=Object($.a)(a||(a=Object(P.a)(["\n  mutation SignUp($name: String $email: String! $password: String!) {\n    signup(name: $name email: $email password:$password) {\n      user {\n        id\n        email\n        name\n      }\n      token\n    }\n  }\n"]))),z=function(){var e=Object(D.a)(F,{onCompleted:function(e){var t=e.signup;t&&t.user&&(localStorage.setItem("token",t.token),localStorage.setItem("userId",t.user.id),C(!0))}}),t=Object(q.a)(e,2),n=t[0],a=t[1],r=a.loading,c=a.error,s=Object(_.useState)(""),i=Object(q.a)(s,2),o=i[0],d=i[1],l=Object(_.useState)(""),m=Object(q.a)(l,2),j=m[0],u=m[1],b=Object(_.useState)(""),x=Object(q.a)(b,2),h=x[0],O=x[1];return r?Object(L.jsx)(B,{}):c?Object(L.jsx)("div",{children:"asdfsadf"}):Object(L.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:Object(L.jsxs)("div",{className:"max-w-md w-full space-y-8",children:[Object(L.jsxs)("div",{children:[Object(L.jsx)("img",{className:"mx-auto h-12 w-auto",src:"https://tailwindui.com/img/logos/workflow-mark-indigo-600.svg",alt:"Workflow"}),Object(L.jsx)("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Sign in to your account"})]}),Object(L.jsxs)("form",{className:"mt-8 space-y-6",action:"#",method:"POST",children:[Object(L.jsx)("input",{type:"hidden",name:"remember",defaultValue:"true"}),Object(L.jsxs)("div",{className:"rounded-md shadow-sm -space-y-px",children:[Object(L.jsxs)("div",{children:[Object(L.jsx)("label",{htmlFor:"name",className:"sr-only",children:"Your name"}),Object(L.jsx)("input",{id:"name",name:"name",type:"name",autoComplete:"name",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-t-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm",placeholder:"name",onChange:function(e){return d(e.target.value)}})]}),Object(L.jsxs)("div",{children:[Object(L.jsx)("label",{htmlFor:"email-address",className:"sr-only",children:"Email address"}),Object(L.jsx)("input",{id:"email-address",name:"email",type:"email",autoComplete:"email",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-t-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm",placeholder:"Email address",onChange:function(e){return u(e.target.value)}})]}),Object(L.jsxs)("div",{children:[Object(L.jsx)("label",{htmlFor:"password",className:"sr-only",children:"Password"}),Object(L.jsx)("input",{id:"password",name:"password",type:"password",autoComplete:"current-password",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-b-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm",placeholder:"Password",onChange:function(e){return O(e.target.value)}})]})]}),Object(L.jsxs)("div",{className:"flex items-center justify-between",children:[Object(L.jsxs)("div",{className:"flex items-center",children:[Object(L.jsx)("input",{id:"remember_me",name:"remember_me",type:"checkbox",className:"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded"}),Object(L.jsx)("label",{htmlFor:"remember_me",className:"ml-2 block text-sm text-gray-900",children:"Remember me"})]}),Object(L.jsx)("div",{className:"text-sm",children:Object(L.jsx)(E.b,{to:"/",className:"font-medium text-indigo-600 hover:text-indigo-500",children:"Click here to login"})})]}),Object(L.jsx)("div",{children:Object(L.jsx)("button",{type:"submit",className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",onClick:function(){return n({variables:{name:o,email:j,password:h}}).catch((function(e){return"fuck"}))},children:"Sign in"})})]})]})})},J=Object($.a)(r||(r=Object(P.a)(["\n  mutation Login($email: String! $password: String!) {\n    login(email: $email password:$password) {\n      user {\n        id\n      }\n      token\n    }\n  }\n"]))),T=function(){var e=Object(D.a)(J,{onCompleted:function(e){var t=e.login;t&&t.user&&(localStorage.setItem("token",t.token),localStorage.setItem("userId",t.user.id),C(!0))}}),t=Object(q.a)(e,2),n=t[0],a=t[1],r=a.loading,c=a.error,s=Object(_.useState)(""),i=Object(q.a)(s,2),o=i[0],d=i[1],l=Object(_.useState)(""),m=Object(q.a)(l,2),j=m[0],u=m[1];return r?Object(L.jsx)(B,{}):c?Object(L.jsx)("div",{children:"asdfsadf"}):Object(L.jsx)(E.a,{children:Object(L.jsxs)(A.c,{children:[Object(L.jsx)(A.a,{path:"/signup",children:Object(L.jsx)(z,{})}),Object(L.jsx)(A.a,{exact:!0,path:"/",children:Object(L.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:Object(L.jsxs)("div",{className:"max-w-md w-full space-y-8",children:[Object(L.jsxs)("div",{children:[Object(L.jsx)("img",{className:"mx-auto h-12 w-auto",src:"https://tailwindui.com/img/logos/workflow-mark-indigo-600.svg",alt:"Workflow"}),Object(L.jsx)("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Sign in to your account"})]}),Object(L.jsxs)("form",{className:"mt-8 space-y-6",action:"#",method:"POST",children:[Object(L.jsx)("input",{type:"hidden",name:"remember",defaultValue:"true"}),Object(L.jsxs)("div",{className:"rounded-md shadow-sm -space-y-px",children:[Object(L.jsxs)("div",{children:[Object(L.jsx)("label",{htmlFor:"email-address",className:"sr-only",children:"Email address"}),Object(L.jsx)("input",{id:"email-address",name:"email",type:"email",autoComplete:"email",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-t-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm",placeholder:"Email address",onChange:function(e){return d(e.target.value)}})]}),Object(L.jsxs)("div",{children:[Object(L.jsx)("label",{htmlFor:"password",className:"sr-only",children:"Password"}),Object(L.jsx)("input",{id:"password",name:"password",type:"password",autoComplete:"current-password",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-b-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm",placeholder:"Password",onChange:function(e){return u(e.target.value)}})]})]}),Object(L.jsxs)("div",{className:"flex items-center justify-between",children:[Object(L.jsxs)("div",{className:"flex items-center",children:[Object(L.jsx)("input",{id:"remember_me",name:"remember_me",type:"checkbox",className:"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded"}),Object(L.jsx)("label",{htmlFor:"remember_me",className:"ml-2 block text-sm text-gray-900",children:"Remember me"})]}),Object(L.jsx)("div",{className:"text-sm",children:Object(L.jsx)(E.b,{to:"/signup",className:"font-medium text-indigo-600 hover:text-indigo-500",children:"Click here to signup"})})]}),Object(L.jsx)("div",{children:Object(L.jsx)("button",{type:"submit",className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",onClick:function(){return n({variables:{email:o,password:j}}).catch((function(e){return"fuck"}))},children:"Sign in"})})]})]})})})]})})},V=n(117),H=function(){var e=Object(V.a)();return Object(L.jsx)("button",{className:"block px-3 py-2 rounded-md text-base font-medium text-gray-400 hover:text-white hover:bg-pink-400",onClick:function(){e.cache.evict({fieldName:"me"}),e.cache.gc(),localStorage.removeItem("token"),localStorage.removeItem("userId"),C(!1),window.location.href="/"},children:"log out!"})},K=function(){return Object(L.jsx)("div",{children:"Something went wrong!"})},M=Object($.a)(c||(c=Object(P.a)(["\n  query MyProfile {\n    me {\n      id\n      name\n      email\n    }\n  }\n"]))),Q=function(){var e=Object(U.a)(M),t=e.data,n=e.loading,a=e.error;return n?Object(L.jsx)(B,{}):a||void 0===t?Object(L.jsx)(K,{}):t.me?Object(L.jsxs)("div",{className:"bg-white shadow overflow-hidden sm:rounded-lg",children:[Object(L.jsxs)("div",{className:"px-4 py-5 sm:px-6",children:[Object(L.jsx)("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:"Profiles"}),Object(L.jsx)("p",{className:"mt-1 max-w-2xl text-sm text-gray-500",children:"Personal details and application."})]}),Object(L.jsx)("div",{className:"border-t border-gray-200",children:Object(L.jsxs)("dl",{children:[Object(L.jsxs)("div",{className:"bg-gray-50 px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[Object(L.jsx)("dt",{className:"text-sm font-medium text-gray-500",children:"Id"}),Object(L.jsx)("dd",{className:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2",children:t.me.id})]}),Object(L.jsxs)("div",{className:"bg-gray-50 px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[Object(L.jsx)("dt",{className:"text-sm font-medium text-gray-500",children:"Full name"}),Object(L.jsx)("dd",{className:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2",children:t.me.name})]}),Object(L.jsxs)("div",{className:"bg-gray-50 px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[Object(L.jsx)("dt",{className:"text-sm font-medium text-gray-500",children:"Email address"}),Object(L.jsx)("dd",{className:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2",children:t.me.email})]}),Object(L.jsxs)("div",{className:"bg-white px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[Object(L.jsx)("dt",{className:"text-sm font-medium text-gray-500",children:"Salary expectation"}),Object(L.jsx)("dd",{className:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2",children:"$120,000"})]}),Object(L.jsxs)("div",{className:"bg-gray-50 px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[Object(L.jsx)("dt",{className:"text-sm font-medium text-gray-500",children:"About"}),Object(L.jsx)("dd",{className:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2",children:"Fugiat ipsum ipsum deserunt culpa aute sint do nostrud anim incididunt cillum culpa consequat. Excepteur qui ipsum aliquip consequat sint. Sit id mollit nulla mollit nostrud in ea officia proident. Irure nostrud pariatur mollit ad adipisicing reprehenderit deserunt qui eu."})]}),Object(L.jsxs)("div",{className:"bg-white px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[Object(L.jsx)("dt",{className:"text-sm font-medium text-gray-500",children:"Attachments"}),Object(L.jsx)("dd",{className:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2",children:Object(L.jsxs)("ul",{className:"border border-gray-200 rounded-md divide-y divide-gray-200",children:[Object(L.jsxs)("li",{className:"pl-3 pr-4 py-3 flex items-center justify-between text-sm",children:[Object(L.jsx)("div",{className:"w-0 flex-1 flex items-center",children:Object(L.jsx)("span",{className:"ml-2 flex-1 w-0 truncate",children:"resume_back_end_developer.pdf"})}),Object(L.jsx)("div",{className:"ml-4 flex-shrink-0",children:Object(L.jsx)("a",{href:"#",className:"font-medium text-indigo-600 hover:text-indigo-500",children:"Download"})})]}),Object(L.jsxs)("li",{className:"pl-3 pr-4 py-3 flex items-center justify-between text-sm",children:[Object(L.jsx)("div",{className:"w-0 flex-1 flex items-center",children:Object(L.jsx)("span",{className:"ml-2 flex-1 w-0 truncate",children:"coverletter_back_end_developer.pdf"})}),Object(L.jsx)("div",{className:"ml-4 flex-shrink-0",children:Object(L.jsx)("a",{href:"#",className:"font-medium text-indigo-600 hover:text-indigo-500",children:"Download"})})]})]})})]})]})})]}):Object(L.jsx)(K,{})},W=function(e){e.chatRef,e.setChat;return Object(L.jsx)("div",{children:"upload image"})},Y=function(e){e.chatRef,e.setChat;return Object(L.jsx)("div",{children:"Cropper"})},G=function(e){e.chatRef,e.setChat;return Object(L.jsx)("div",{children:"RecordVoice"})},X=function(e){e.chatRef,e.setChat;return Object(L.jsx)("div",{children:"select pictures"})},Z=function(e){var t=e.chatRef,n=e.setChat;return Object(L.jsxs)("div",{children:[Object(L.jsx)(W,{chatRef:t,setChat:n}),Object(L.jsx)(X,{chatRef:t,setChat:n}),Object(L.jsx)(Y,{chatRef:t,setChat:n}),Object(L.jsx)(G,{chatRef:t,setChat:n})]})},ee=Object($.a)(s||(s=Object(P.a)(["\nmutation CreateChatPrivateMutation($createChatPrivateData: CreateChatInputPrivate!) {\n  createChatPrivate(data: $createChatPrivateData) {\n    id\n    content\n  }\n}\n"]))),te=Object($.a)(i||(i=Object(P.a)(["\nmutation JoinRoomb($incrementRoomUserId: Int!) {\n  incrementRoomUser(id: $incrementRoomUserId) {\n    id\n    name\n  }\n}\n"]))),ne=Object($.a)(o||(o=Object(P.a)(["\nmutation LeftRoomb($decrementRoomUserId: Int!) {\n  decrementRoomUser(id: $decrementRoomUserId) {\n    id\n    name\n  }\n}\n"]))),ae=function(e){var t=e.roomId,n=e.userId,a=Object(_.useState)(""),r=Object(q.a)(a,2),c=r[0],s=r[1],i=Object(_.useRef)(null),o=Object(D.a)(ee),d=Object(q.a)(o,1)[0],l=Object(D.a)(ne),m=Object(q.a)(l,1)[0],j=Object(D.a)(te),u=Object(q.a)(j,1)[0],b=parseInt(localStorage.getItem("roomId"));if(null===localStorage.getItem("roomId")){u({variables:{incrementRoomUserId:t}}),localStorage.setItem("roomId",t);parseInt(localStorage.getItem("roomId"),10);d({variables:{createChatPrivateData:{roomId:t,content:"enter the room"}}})}else b!==t&&(u({variables:{incrementRoomUserId:t}}).catch(),m({variables:{decrementRoomUserId:b}}).catch(),999999===n&&d({variables:{createChatPrivateData:{roomId:t,content:"enter the room"}}}),localStorage.setItem("roomId",t));return 999999===n&&(n=void 0),Object(L.jsxs)("div",{children:[Object(L.jsx)(Z,{chatRef:i,setChat:s}),Object(L.jsx)("input",{placeholder:"type your message",onChange:function(e){return s(e.target.value)},onKeyDown:function(e){"Enter"!==e.key||e.shiftKey||null!==i.current&&(e.preventDefault(),d({variables:{createChatPrivateData:{roomId:t,content:c,touserId:n}}}).catch((function(e){return"fuck"})),i.current.value="",s(""))},ref:i}),Object(L.jsx)("button",{onClick:function(e){null!==i.current&&(e.preventDefault(),d({variables:{createChatPrivateData:{roomId:t,content:c,touserId:n}}}).catch(),i.current.value="",s(""))},children:"Enter"})]})},re=function(e){var t=e.id,n=e.name,a=(e.createdAt,e.image,e.content),r="text-blue-400";return t==localStorage.getItem("userId")&&(r="text-pink-400"),Object(L.jsxs)("div",{className:r,children:[n,": ",a]})},ce=Object($.a)(d||(d=Object(P.a)(["\nquery chatPrivate($chatPrivateId: Int, $chatPrivateUserid: Int) {\n  chatPrivate(id: $chatPrivateId, userid: $chatPrivateUserid) {\n    id\n    createdAt\n    content\n    author {\n      name\n      id\n    }\n    touser {\n      id\n      name\n    }\n  }\n}\n"]))),se=function(e){e.roomId;var t=e.userId,n=parseInt(localStorage.getItem("userId"),10),a=Object(U.a)(ce,{variables:{chatPrivateId:n,chatPrivateUserid:t},pollInterval:500}),r=a.data,c=a.loading,s=a.error;return c?Object(L.jsx)(B,{}):s||void 0===r?Object(L.jsx)(K,{}):r?Object(L.jsx)("div",{children:r&&r.chatPrivate.map((function(e){var t,n;return Object(L.jsx)(re,{id:null===(t=e.author)||void 0===t?void 0:t.id,name:null===(n=e.author)||void 0===n?void 0:n.name,createdAt:e.createdAt,content:e.content},e.id)}))}):Object(L.jsx)(K,{})},ie=Object($.a)(l||(l=Object(P.a)(["\n  query ChatByRoomId($chatByRoomIdId: Int) {\n    chatByRoomId(id: $chatByRoomIdId) {\n      id\n      createdAt\n      content\n      author {\n        name\n        id\n      }\n      room {\n        id\n      }\n    }\n  }\n"]))),oe=function(e){var t=e.roomId,n=Object(U.a)(ie,{variables:{chatByRoomIdId:t},pollInterval:500}),a=n.data,r=n.loading,c=n.error;return r?Object(L.jsx)(B,{}):c||void 0===a?Object(L.jsx)(K,{}):a?Object(L.jsxs)("div",{children:["ChatHistory here ID:",t,a&&a.chatByRoomId.map((function(e){var t,n;return Object(L.jsx)(re,{id:null===(t=e.author)||void 0===t?void 0:t.id,name:null===(n=e.author)||void 0===n?void 0:n.name,createdAt:e.createdAt,content:e.content},e.id)}))]}):Object(L.jsx)(K,{})},de=function(e){var t=e.roomId,n=e.userId;return 999999===n?Object(L.jsx)(oe,{roomId:t}):Object(L.jsx)(se,{roomId:t,userId:n})},le=function(e){e._userId;var t=Object(A.f)(),n=t.roomId,a=t.userId;return Object(L.jsxs)("div",{children:[Object(L.jsx)(de,{roomId:parseInt(n,10),userId:parseInt(a,10)}),Object(L.jsx)(ae,{roomId:parseInt(n,10),userId:parseInt(a,10)})]})},me=Object($.a)(m||(m=Object(P.a)(["\n  mutation DeleteRoom($deleteRoomId: Int!) {\n    deleteRoom(id: $deleteRoomId) {\n      id\n    }\n  }\n"]))),je=function(e){var t=e.roomId,n=Object(D.a)(me),a=Object(q.a)(n,1)[0];return Object(L.jsxs)("button",{onClick:function(){a({variables:{deleteRoomId:t}}).then((function(){window.location.href="/chat",localStorage.removeItem("roomId")}))},children:["Delete room ",t]})},ue=Object($.a)(j||(j=Object(P.a)(["\n  query RoomList {\n    allRooms {\n      currentNumberofUsers\n      name\n      details\n      owner {\n        name\n      }\n      createdAt\n      id\n    }\n  }\n"]))),be=function(){var e=Object(U.a)(ue,{pollInterval:1e3}),t=e.data,n=e.error;return e.loading?Object(L.jsx)(B,{}):n||void 0===t?Object(L.jsx)(K,{}):t?Object(L.jsx)("div",{className:"flex-col",children:t.allRooms.map((function(e){var t;return Object(L.jsx)(E.b,{to:"/chat/public/"+e.id+"/999999",children:Object(L.jsxs)("div",{className:"p-6 max-w-sm bg-white rounded-xl shadow-md flex items-center space-x-4",children:[Object(L.jsx)("div",{className:"text-gray-500",children:e.id}),Object(L.jsx)("div",{className:"text-gray-500",children:e.name}),Object(L.jsx)("div",{className:"text-gray-500",children:e.details}),Object(L.jsxs)("div",{className:"text-gray-500",children:["this room now have",e.currentNumberofUsers," users"]}),Object(L.jsxs)("div",{className:"text-gray-500",children:["owner: ",null===(t=e.owner)||void 0===t?void 0:t.name]}),Object(L.jsx)(je,{roomId:e.id},e.id)]})})}))}):Object(L.jsx)(K,{})},xe=Object($.a)(u||(u=Object(P.a)(["\n  query UserPrivateRoom($userPrivateRoomId: Int) {\n  userPrivateRoom(id: $userPrivateRoomId) {\n    id\n  }\n}\n"]))),he=function(e){var t=e.userId,n=Object(U.a)(xe,{variables:{userPrivateRoomId:t}}).data;return n&&n.userPrivateRoom?Object(L.jsx)(E.b,{to:"/chat/private/"+n.userPrivateRoom.id+"/"+t,children:Object(L.jsx)("div",{children:"CHAT"})}):Object(L.jsx)(K,{})},Oe=Object($.a)(b||(b=Object(P.a)(["\n  query UserList {\n    allUsers {\n      id\n      name\n      isOnline\n    }\n  }\n"]))),pe=function(){var e=Object(U.a)(Oe),t=e.data,n=e.loading,a=e.error;return n?Object(L.jsx)(B,{}):a||void 0===t?Object(L.jsx)(K,{}):t?Object(L.jsx)("div",{className:"flex-col",children:t.allUsers.map((function(e,t){return Object(L.jsxs)("div",{className:"p-6 max-w-sm bg-white rounded-xl shadow-md flex items-center space-x-4",children:[Object(L.jsx)("p",{className:"text-gray-500",children:e.name}),Object(L.jsx)("p",{className:"text-gray-500",children:e.isOnline?Object(L.jsx)("p",{children:"online!"}):Object(L.jsx)("p",{children:"offline"})}),Object(L.jsx)(he,{userId:e.id},e.id)]},t)}))}):Object(L.jsx)(K,{})},ge=Object($.a)(x||(x=Object(P.a)(["\n  mutation CreateRoom($createRoomData: RoomCreateInput!) {\n    createRoom(data: $createRoomData) {\n      id\n    }\n  }\n"]))),ve=function(){var e=Object(D.a)(ge),t=Object(q.a)(e,1)[0],n=Object(_.useState)(""),a=Object(q.a)(n,2),r=a[0],c=a[1],s=Object(_.useState)(""),i=Object(q.a)(s,2),o=i[0],d=i[1],l=Object(_.useRef)(null),m=Object(_.useRef)(null);return Object(L.jsxs)("div",{children:[Object(L.jsx)("p",{children:"Enter Room informations"}),Object(L.jsx)("input",{placeholder:"name",type:"text",onChange:function(e){return c(e.target.value)},ref:l}),Object(L.jsx)("input",{placeholder:"details",type:"text",onChange:function(e){return d(e.target.value)},ref:m}),Object(L.jsx)("button",{onClick:function(){null!==l.current&&(t({variables:{createRoomData:{name:r,details:o,public:!0}}}).catch(),l.current.value="",null!==m.current&&(m.current.value=""))},children:"CreateRoom"})]})},fe=Object($.a)(h||(h=Object(P.a)(["\n  query UserOrRoom {\n    UserOrRoom @client\n  }\n"]))),ye=function(){var e=Object(U.a)(fe).data;return Object(L.jsx)(E.a,{children:Object(L.jsxs)("div",{children:[Object(L.jsx)("div",{children:Object(L.jsxs)(A.c,{children:[Object(L.jsx)(A.a,{path:"/chat/public/:roomId/:userId",exact:!0,children:Object(L.jsx)(le,{})}),Object(L.jsx)(A.a,{path:"/chat/private/:roomId/:userId",exact:!0,children:Object(L.jsx)(le,{})})]})}),Object(L.jsx)("div",{children:e.UserOrRoom?Object(L.jsx)(pe,{}):Object(L.jsx)(be,{})}),Object(L.jsx)("button",{onClick:function(e){S(!1),localStorage.setItem("place","false")},children:"click me to room list!"}),Object(L.jsx)("button",{onClick:function(e){S(!0),localStorage.setItem("place","true")},children:"click me to user list!"}),Object(L.jsxs)("div",{children:["create new room here~",Object(L.jsx)(ve,{})]})]})})},Ie=function(){return Object(L.jsx)(E.a,{children:Object(L.jsxs)("div",{children:[Object(L.jsxs)("div",{className:"nav-bar flex",children:[Object(L.jsx)("div",{className:"nav-item",children:Object(L.jsx)(E.b,{to:"/",children:"main"})}),Object(L.jsx)("div",{className:"nav-item",children:Object(L.jsx)(E.b,{to:"/profile",children:"profile"})}),Object(L.jsx)("div",{className:"nav-item",children:Object(L.jsx)(E.b,{to:"/chat",children:"chat"})}),Object(L.jsx)("div",{className:"nav-item",children:Object(L.jsx)(E.b,{to:"/invitations",children:"invitations"})}),Object(L.jsx)("div",{className:"nav-item",children:Object(L.jsx)(E.b,{to:"/search",children:"search"})}),Object(L.jsx)("div",{className:"nav-item",children:Object(L.jsx)(H,{})})]}),Object(L.jsx)("div",{children:Object(L.jsxs)(A.c,{children:[Object(L.jsx)(A.a,{exact:!0,path:"/",children:Object(L.jsx)("div",{children:"welcome page"})}),Object(L.jsx)(A.a,{path:"/profile",children:Object(L.jsx)(Q,{})}),Object(L.jsx)(A.a,{path:"/chat",children:Object(L.jsx)(ye,{})}),Object(L.jsx)(A.a,{path:"/invitations",children:Object(L.jsx)("div",{children:"invitations"})}),Object(L.jsx)(A.a,{path:"/search",children:Object(L.jsx)("div",{children:"search"})})]})})]})})},we=Object($.a)(O||(O=Object(P.a)(["\n  extend type Query {\n    isLoggedIn: Boolean!\n    UserOrRoom: Boolean!\n  }\n"]))),Ne=Object($.a)(p||(p=Object(P.a)(["\n  query IsUserLoggedIn {\n    isLoggedIn @client\n  }\n"])));function Re(){return Object(U.a)(Ne).data.isLoggedIn?Object(L.jsx)(Ie,{}):Object(L.jsx)("div",{children:Object(L.jsx)(T,{})})}var ke=n(24),Ce=n(69),Se=new f.a({uri:"http://localhost:4000/graphql",headers:{authorization:localStorage.getItem("token")||"","client-name":"Space Explorer [web]","client-version":"1.0.0"}}),Pe=new Ce.a({uri:"ws://localhost:4000/subscriptions",options:{reconnect:!0,connectionParams:{authorization:localStorage.getItem("token")||""}}}),$e=Object(y.split)((function(e){var t=e.query,n=Object(ke.e)(t);return"OperationDefinition"===n.kind&&"subscription"===n.operation}),Pe,Se),Ue=new I.a({headers:{authorization:localStorage.getItem("token")||"","client-name":"Space Explorer [web]","client-version":"1.0.0"},cache:k,uri:"http://localhost:4000/graphql",typeDefs:we,link:$e});v.a.render(Object(L.jsx)(w.a,{client:Ue,children:Object(L.jsx)(Re,{})}),document.getElementById("root"))},83:function(e,t,n){}},[[105,1,2]]]);
//# sourceMappingURL=main.1a699a9b.chunk.js.map